(this["webpackJsonpcarbon-tutorial"]=this["webpackJsonpcarbon-tutorial"]||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a(46),s=a.n(n),l=(a(53),a(14)),c=a(15),d=a(16),r=a(17),o=(a(54),a(99)),j=a(100),u=a(101),h=a(114),m=a(102),b=a(103),f=a(104),v=a(105),x=a(106),O=a(107),p=a(115),g=a(108),y=a(109),N=a(110),w=a(111),k=a(22),S=a(3),D=function(){return Object(S.jsx)(o.a,{render:function(e){var t=e.isSideNavExpanded,a=e.onClickSideNavExpand;return Object(S.jsxs)(j.a,{"aria-label":"Oyster Haven",children:[Object(S.jsx)(u.a,{}),Object(S.jsx)(h.a,{"aria-label":"Open menu",onClick:a,isActive:t}),Object(S.jsx)(m.a,{element:k.b,to:"/",prefix:"",children:"Oyster Haven"}),Object(S.jsx)(b.a,{"aria-label":"Oyster Haven",children:Object(S.jsx)(f.a,{href:"/repos",children:"Trends"})}),Object(S.jsx)(v.a,{"aria-label":"Side navigation",expanded:t,isPersistent:!1,children:Object(S.jsx)(x.a,{children:Object(S.jsx)(O.a,{children:Object(S.jsx)(f.a,{href:"/repos",children:"Trends"})})})}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(g.a,{"aria-label":"Notifications",children:Object(S.jsx)(y.a,{})}),Object(S.jsx)(g.a,{"aria-label":"User Avatar",children:Object(S.jsx)(N.a,{})}),Object(S.jsx)(g.a,{"aria-label":"App Switcher",children:Object(S.jsx)(w.a,{})})]})]})}})},P=a(113),I=a(13),A=a(112),C=a(116),J=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i.state={title:e.title,fieldname:e.fieldname,fieldvalue:e.fieldvalue,fieldtimestamp:e.fieldtimestamp,fieldunits:e.fieldunits,data:e.data,error:null},i}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("KPI mounted")}},{key:"componentWillUnmount",value:function(){console.log("KPI unmounted")}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"timeSince",value:function(e){console.log("Timestamp: "+e);var t=new Date,a=t.getTime()/1e3-e;return console.log("Now: "+t.getTime()),console.log("Seconds: "+a),a<60?parseInt(a)+"s":a<3600?parseInt(a/60)+"m":a<=86400?parseInt(a/3600)+"h":a>86400?e.getDate()+" "+e.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ","")+(e.getFullYear()===t.getFullYear()?"":" "+e.getFullYear()):void 0}},{key:"update",value:function(e){if(console.log("Refreshing KPI Data"),e){console.log(this.state.data);try{var t=JSON.parse(this.state.data);if(t[this.state.fieldname]){console.log("Updating: "+this.state.fieldname);var a="Last Updated "+this.timeSince(t[this.state.fieldname].timestamp)+" ago";this.setState({fieldvalue:t[this.state.fieldname].value,fieldtimestamp:a})}}catch(i){console.log("Could not parse data object")}}else console.log("KPI Data invalid")}},{key:"componentDidUpdate",value:function(e,t,a){t.data!==this.state.data&&this.update(this.state.data)}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"my-widget-parent",children:[Object(S.jsxs)("div",{className:"my-widget-top",children:[Object(S.jsxs)("div",{className:"my-widget-top-left",children:[Object(S.jsx)("div",{className:"my-widget-title",children:this.state.title&&Object(S.jsx)("div",{children:this.state.title})}),Object(S.jsxs)("div",{className:"my-widget-value",children:[this.state.fieldvalue&&Object(S.jsx)("div",{children:this.state.fieldvalue}),Object(S.jsx)("span",{className:"my-widget-currency",children:this.state.fieldunits&&Object(S.jsx)("div",{children:this.state.fieldunits})})]})]}),Object(S.jsx)("div",{className:"my-widget-top-right",children:Object(S.jsx)("i",{className:"fa fa-diamond"})})]}),Object(S.jsxs)("div",{className:"my-widget-bottom",children:[Object(S.jsx)("div",{className:"my-widget-bottom-left",children:this.state.fieldtimestamp&&Object(S.jsx)("div",{children:this.state.fieldtimestamp})}),Object(S.jsx)("div",{className:"my-widget-bottom-right"})]})]})})}}]),a}(i.Component);J.defaultProps={title:"KPI",fieldname:"temp",fieldvalue:"N/A",fieldtimestamp:"N/A",fieldunits:"\xba",data:""};var T=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={data:"",value:0},i.state={data:"",value:0},i}return Object(c.a)(a,[{key:"getLatest",value:function(){var e=this;try{fetch("https://ed4b9t53ua.execute-api.us-east-1.amazonaws.com/prod/latest",{method:"GET",headers:{"x-api-key":"ZnQpo7yRmJ8LkuWKHmbrJ4QDBuxBo7A79JBADcL1"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState((function(){return{data:JSON.stringify(t)}}))}))}catch(t){console.log("Error: "+t)}}},{key:"componentDidMount",value:function(){console.log("Landing Page mounted"),this.getLatest()}},{key:"update",value:function(){var e={temp:{value:24,timestamp:1642429005}};this.setState((function(){return{data:JSON.stringify(e),value:99}}))}},{key:"componentWillUnmount",value:function(){console.log("Landing Page unmounted")}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"bx--grid bx--grid--full-width landing-page",children:[Object(S.jsx)("div",{className:"bx--row landing-page__banner",children:Object(S.jsxs)("div",{className:"bx--col-lg-16",children:[Object(S.jsx)(A.a,{noTrailingSlash:!0,children:Object(S.jsx)(C.a,{children:Object(S.jsx)("a",{href:"/",children:"Current Conditions"})})}),Object(S.jsx)("h1",{className:"landing-page__heading",children:"Oyster Haven"})]})}),Object(S.jsxs)("div",{className:"bx--row landing-page__r3",children:[Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(J,{title:"Temperature",fieldname:"temp",fieldunits:"\xba",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(J,{title:"Relative Humidity",fieldname:"rh",fieldunits:"%",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(J,{title:"Wind",fieldname:"wind",fieldunits:"mph",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(J,{title:"Rain",fieldname:"rain",fieldunits:"inches",data:this.state.data})})]})]})}}]),a}(i.Component),L=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{}),Object(S.jsx)(P.a,{children:Object(S.jsx)(I.c,{children:Object(S.jsx)(I.a,{exact:!0,path:"/",component:T})})})]})}}]),a}(i.Component),W=L;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(65),a(78),a(81),a(85),a(88);s.a.render(Object(S.jsx)(k.a,{children:Object(S.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[95,1,2]]]);
//# sourceMappingURL=main.f108f647.chunk.js.map