(this["webpackJsonpcarbon-tutorial"]=this["webpackJsonpcarbon-tutorial"]||[]).push([[0],{54:function(e,t,a){},55:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a(47),s=a.n(n),c=(a(54),a(7)),l=a(8),d=a(9),r=a(10),o=(a(55),a(99)),u=a(100),j=a(101),h=a(118),b=a(102),m=a(103),f=a(104),v=a(105),O=a(106),x=a(107),p=a(119),g=a(108),y=a(109),N=a(110),w=a(111),k=a(22),S=a(3),I=function(){return Object(S.jsx)(o.a,{render:function(e){var t=e.isSideNavExpanded,a=e.onClickSideNavExpand;return Object(S.jsxs)(u.a,{"aria-label":"Oyster Haven",children:[Object(S.jsx)(j.a,{}),Object(S.jsx)(h.a,{"aria-label":"Open menu",onClick:a,isActive:t}),Object(S.jsx)(b.a,{element:k.b,to:"/",prefix:"",children:"Oyster Haven"}),Object(S.jsx)(m.a,{"aria-label":"Oyster Haven",children:Object(S.jsx)(f.a,{href:"/repos",children:"Trends"})}),Object(S.jsx)(v.a,{"aria-label":"Side navigation",expanded:t,isPersistent:!1,children:Object(S.jsx)(O.a,{children:Object(S.jsx)(x.a,{children:Object(S.jsx)(f.a,{href:"/repos",children:"Trends"})})})}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(g.a,{"aria-label":"Notifications",children:Object(S.jsx)(y.a,{})}),Object(S.jsx)(g.a,{"aria-label":"User Avatar",children:Object(S.jsx)(N.a,{})}),Object(S.jsx)(g.a,{"aria-label":"App Switcher",children:Object(S.jsx)(w.a,{})})]})]})}})},E=a(117),W=a(17),P=a(116),T=a(120),C=a(112),D=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).state={},i.state={title:e.title,fieldname:e.fieldname,fieldvalue:e.fieldvalue,fieldtimestamp:e.fieldtimestamp,fieldunits:e.fieldunits,fieldextra:e.fieldextra,data:e.data,error:null},i}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("KPI mounted")}},{key:"componentWillUnmount",value:function(){console.log("KPI unmounted")}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"timeSince",value:function(e){console.log("Timestamp: "+e);var t=new Date,a=t.getTime()/1e3-e;return console.log("Now: "+t.getTime()),console.log("Seconds: "+a),a<60?parseInt(a)+"s":a<3600?parseInt(a/60)+"m":a<=86400?parseInt(a/3600)+"h":a>86400?e.getDate()+" "+e.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ","")+(e.getFullYear()===t.getFullYear()?"":" "+e.getFullYear()):void 0}},{key:"updateFieldValue",value:function(e,t,a){this.setState({fieldvalue:t,fieldtimestamp:a})}},{key:"update",value:function(e){if(console.log("Refreshing KPI Data"),e){console.log(this.state.data);try{var t=JSON.parse(this.state.data);if(t[this.state.fieldname]){console.log("Updating: "+this.state.fieldname);var a="Last Updated "+this.timeSince(t[this.state.fieldname].timestamp)+" ago";this.updateFieldValue(t,t[this.state.fieldname].value,a)}}catch(i){console.log("Could not parse data object")}}else console.log("KPI Data invalid")}},{key:"componentDidUpdate",value:function(e,t,a){t.data!==this.state.data&&this.update(this.state.data)}},{key:"getIcon",value:function(){return Object(S.jsx)(C.a,{})}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"my-widget-parent",children:[Object(S.jsxs)("div",{className:"my-widget-top",children:[Object(S.jsxs)("div",{className:"my-widget-top-left",children:[Object(S.jsx)("div",{className:"my-widget-title",children:this.state.title&&Object(S.jsx)("div",{children:this.state.title})}),Object(S.jsxs)("div",{className:"my-widget-value",children:[this.state.fieldvalue&&Object(S.jsx)("div",{children:this.state.fieldvalue}),Object(S.jsx)("span",{className:"my-widget-currency",children:this.state.fieldunits&&Object(S.jsx)("div",{children:this.state.fieldunits})})]})]}),Object(S.jsx)("div",{className:"my-widget-top-right",children:this.getIcon()})]}),Object(S.jsxs)("div",{className:"my-widget-bottom",children:[Object(S.jsx)("div",{className:"my-widget-bottom-left",children:this.state.fieldtimestamp&&Object(S.jsx)("div",{children:this.state.fieldtimestamp})}),Object(S.jsx)("div",{className:"my-widget-bottom-right",children:this.state.fieldextra&&Object(S.jsx)("div",{children:this.state.fieldextra})})]})]})})}}]),a}(i.Component);D.defaultProps={title:"KPI",fieldname:"temp",fieldvalue:"N/A",fieldtimestamp:"N/A",fieldunits:"\xba",fieldextra:"",data:""};var F=a(113),A=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"updateFieldValue",value:function(e,t,a){var i=" - ",n="0";if(e.windd){var s=e.windd.value;i=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(s/22.5,0)+1]}e.windgust&&(n=e.windgust.value);var c="".concat(i," Gusting at ").concat(n," mph");this.setState({fieldvalue:t,fieldtimestamp:a,fieldextra:c})}},{key:"getIcon",value:function(){return Object(S.jsx)(F.a,{})}}]),a}(D),H=a(114),L=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"getIcon",value:function(){return Object(S.jsx)(H.a,{})}}]),a}(D),U=a(115),_=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"getIcon",value:function(){return Object(S.jsx)(U.a,{})}}]),a}(D),K=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).state={data:"",value:0},i.state={data:"",value:0},i}return Object(l.a)(a,[{key:"getLatest",value:function(){var e=this;try{fetch("https://ed4b9t53ua.execute-api.us-east-1.amazonaws.com/prod/latest",{method:"GET",headers:{"x-api-key":"vbRxp5vnkT1C3sdQZHF8N3E6A7h5F3u552w4Tq3c"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState((function(){return{data:JSON.stringify(t)}}))}))}catch(t){console.log("Error: "+t)}}},{key:"componentDidMount",value:function(){var e=this;console.log("Landing Page mounted"),this.getLatest(),this.timerID=setInterval((function(){return e.getLatest()}),9e5)}},{key:"componentWillUnmount",value:function(){console.log("Landing Page unmounted")}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"bx--grid bx--grid--full-width landing-page",children:[Object(S.jsx)("div",{className:"bx--row landing-page__banner",children:Object(S.jsxs)("div",{className:"bx--col-lg-16",children:[Object(S.jsx)(P.a,{noTrailingSlash:!0,children:Object(S.jsx)(T.a,{children:Object(S.jsx)("a",{href:"/",children:"Current Conditions"})})}),Object(S.jsx)("h1",{className:"landing-page__heading",children:"Oyster Haven"})]})}),Object(S.jsxs)("div",{className:"bx--row landing-page__r3",children:[Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(D,{title:"Temperature",fieldname:"temp",fieldunits:"\xba",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(L,{title:"Relative Humidity",fieldname:"rh",fieldunits:"%",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(A,{title:"Wind",fieldname:"wind",fieldunits:"mph",data:this.state.data})}),Object(S.jsx)("div",{className:"bx--col-md-4 bx--col-lg-4",children:Object(S.jsx)(_,{title:"Rain",fieldname:"rainfall",fieldunits:"inches",data:this.state.data})})]})]})}}]),a}(i.Component),R=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(I,{}),Object(S.jsx)(E.a,{children:Object(S.jsx)(W.c,{children:Object(S.jsx)(W.a,{exact:!0,path:"/",component:K})})})]})}}]),a}(i.Component),J=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66),a(79),a(82),a(86),a(89);s.a.render(Object(S.jsx)(k.a,{children:Object(S.jsx)(J,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[96,1,2]]]);
//# sourceMappingURL=main.b0b79446.chunk.js.map